<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ラタタラ語の解説</title>
<style>
    :root {
        --bg-color: #c0c0c0;
        --win-border-light: #ffffff;
        --win-border-dark: #808080;
        --win-border-black: #000000;
        --header-blue: #000080;
    }
    body {
        background-color: #008080;
        font-family: "MS UI Gothic", sans-serif;
        margin: 0; padding: 20px; height: 100vh;
        box-sizing: border-box; display: flex; justify-content: center; align-items: center;
    }
    .window {
        background-color: var(--bg-color);
        border: 2px solid;
        border-color: var(--win-border-light) var(--win-border-black) var(--win-border-black) var(--win-border-light);
        width: 100%; max-width: 1200px; height: 90vh;
        display: flex; flex-direction: column;
        box-shadow: 4px 4px 10px rgba(0,0,0,0.5);
    }
    .title-bar {
        background-color: var(--header-blue); color: white; padding: 4px 8px; font-weight: bold;
    }
    .main-area { display: flex; flex: 1; overflow: hidden; padding: 4px; gap: 4px; }
    .sidebar {
        width: 300px; background-color: white;
        border: 2px solid; border-color: var(--win-border-dark) var(--win-border-light) var(--win-border-light) var(--win-border-dark);
        overflow-y: auto; padding: 4px;
    }
    .content-pane {
        flex: 1; padding: 20px; background-color: white;
        border: 2px solid; border-color: var(--win-border-dark) var(--win-border-light) var(--win-border-light) var(--win-border-dark);
        overflow-y: auto; line-height: 1.6;
    }
    .file-item {
        padding: 4px; cursor: pointer; display: flex; align-items: center; gap: 6px;
    }
    .file-item:hover { background-color: #e0e0e0; }
    .file-item.active { background-color: var(--header-blue); color: white; }
    .file-icon { width: 16px; height: 16px; background-color: #fdfd96; border: 1px solid #808000; }
    
    h1 { border-bottom: 2px solid #808080; padding-bottom: 5px; font-size: 24px; margin-top:0; }
    .article-body { white-space: pre-wrap; }
    .article-image { max-width: 100%; margin-top: 20px; border: 1px solid #ccc; }
    .private-warning {
        color: red; font-weight: bold; border: 2px solid red; padding: 20px; background: #fff0f0; text-align: center;
    }
    .private-badge { background-color: #ccc; color: #555; font-size: 0.8em; padding: 0 4px; border: 1px solid gray; margin-left: auto; }
</style>
</head>
<body>
<div class="window">
    <div class="title-bar">ラタタラ語の解説</div>
    <div class="main-area">
        <div class="sidebar" id="fileList"></div>
        <div class="content-pane" id="contentDisplay">
            <p>左側のリストから項目を選択してください。</p>
        </div>
    </div>
</div>
<script>
    const data = [{"id":1,"title":"ラタタラ語って何？","body":"ラタタラ語は、Tihokumi Sukuea Latatalas(私)が創作している人工言語。\n私が作った架空の世界「保弧留宇」で話されているとされる言語で、その世界の特徴が言語にも反映されている。\nラタタラ語の辞書は別のサイトにあるので興味のある方はぜひ↓\nhttps://latatala-zisio.netlify.app/","image":"","isPrivate":false}];

    window.onload = function() {
        const listEl = document.getElementById('fileList');
        data.forEach(item => {
            const div = document.createElement('div');
            div.className = 'file-item';
            div.onclick = function() { showContent(item.id); highlight(div); };
            
            const icon = document.createElement('div');
            icon.className = 'file-icon';
            
            const text = document.createElement('span');
            text.innerText = '#' + item.id + ' ' + item.title;
            
            div.appendChild(icon);
            div.appendChild(text);
            
            if(item.isPrivate) {
                const badge = document.createElement('span');
                badge.className = 'private-badge';
                badge.innerText = '非公開';
                div.appendChild(badge);
            }
            
            listEl.appendChild(div);
        });
    };

    function showContent(id) {
        const item = data.find(a => a.id === id);
        const display = document.getElementById('contentDisplay');
        
        if (item.isPrivate) {
            display.innerHTML = '<div class="private-warning">現在、非公開にされています</div>';
            return;
        }

        let html = '<h1>' + escapeHtml(item.title) + '</h1>';
        html += '<div class="article-body">' + escapeHtml(item.body) + '</div>';
        if (item.image) {
            html += '<img src="' + item.image + '" class="article-image">';
        }
        display.innerHTML = html;
    }

    function highlight(element) {
        document.querySelectorAll('.file-item').forEach(el => el.classList.remove('active'));
        element.classList.add('active');
    }

    function escapeHtml(unsafe) {
        return unsafe
             .replace(/&/g, "&amp;")
             .replace(/</g, "&lt;")
             .replace(/>/g, "&gt;")
             .replace(/"/g, "&quot;")
             .replace(/'/g, "&#039;");
    }
</script>
</body>
</html>
